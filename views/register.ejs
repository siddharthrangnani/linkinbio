<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
      integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
      crossorigin="anonymous"
    ></script>
    <!-- jquerylinks -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway:wght@500&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Recursive:wght@600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"
      integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@500&family=Recursive:wght@600&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body class="body-register">
    <nav>
      <a class="navbar-brand ml-3" href="/index">
        <img src="/img/Capture.PNG" width="100" height="40" alt="" />
      </a>
    </nav>
    <div class="d-flex justify-content-center" style="padding-top: 8%">
      <div class="row">
        <div class="col-lg-12 m-4">
          <div class="card">
            <div class="card-body rounded">
              <form action="/register" method="POST">
                <h4
                  class="text-center font-weight-bold text-black"
                  style="
                    font-family: 'Poppins', sans-serif;
                    font-weight: 500;
                    word-spacing: 15px;
                  "
                >
                  Signup
                </h4>

                <div class="reg-input">
                  <input
                    type="text"
                    required
                    oninvalid="alert('minimum 3 characters required')"
                    name="username"
                    id="username-text"
                    placeholder="username"
                  />
                </div>
                <div class="reg-input">
                  <input
                    type="password"
                    minlength="3"
                    oninvalid="alert('minimum 8 characters required')"
                    name="password"
                    id="password-id"
                    placeholder="password"
                    required
                  />
                </div>
                <div class="reg-input">
                  <input
                    type="password"
                    minlength="3"
                    oninvalid="alert('minimum 8 characters required')"
                    required
                    name="conPassword"
                    id="con-password-id"
                    placeholder="confirm password"
                  />
                </div>
                <div class="reg-input">
                  <input
                    type="email"
                    name="email"
                    id="email-id"
                    placeholder="email"
                    required
                  />
                </div>

                <% if(locals.errors){locals.errors.forEach(function(error){%>
                <div class="alert alert-danger col-lg-8"><%= error.msg %></div>
                <% })} %>

                <div class="">
                  <button
                    type="submit"
                    class="btn reg-button btn-login btn-success"
                  >
                    SignUp
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      $("#username-text, #password-id,#con-password-id,#email-id")
        .keyup(function () {
          var username = $("#username-text").val().length;
          var password = $("#password-id").val().length;
          var conpassword = $("#con-password-id").val().length;
          var email = $("#email-id").val().length;
          if (
            username != "" &&
            password != "" &&
            conpassword != "" &&
            email != " "
          ) {
            $("button").prop("disabled", false);
          } else {
            $("button").prop("disabled", true);
          }
        })
        .keyup();
    </script>
  </body>
</html>
